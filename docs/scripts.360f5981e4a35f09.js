!function(n,d){"function"==typeof define&&define.amd?define([],function(){return d(n)}):"object"==typeof exports?module.exports=d(n):n.SmoothScroll=d(n)}(typeof global<"u"?global:typeof window<"u"?window:this,function(n){"use strict";var d={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:1e3,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:50,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},H=function(){var t={};return Array.prototype.forEach.call(arguments,function(e){for(var r in e){if(!e.hasOwnProperty(r))return;t[r]=e[r]}}),t},O=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var a,e=String(t),r=e.length,o=-1,l="",i=e.charCodeAt(0);++o<r;){if(0===(a=e.charCodeAt(o)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");l+=a>=1&&a<=31||127==a||0===o&&a>=48&&a<=57||1===o&&a>=48&&a<=57&&45===i?"\\"+a.toString(16)+" ":a>=128||45===a||95===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?e.charAt(o):"\\"+e.charAt(o)}return"#"+l},A=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},m=function(t,e,r,o){if(e.emitEvents&&"function"==typeof n.CustomEvent){var a=new CustomEvent(t,{bubbles:!0,detail:{anchor:r,toggle:o}});document.dispatchEvent(a)}};return function(t,e){var o,l,i,h,r={cancelScroll:function(u){cancelAnimationFrame(h),h=null,!u&&m("scrollCancel",o)}};r.animateScroll=function(u,c,s){r.cancelScroll();var f=H(o||d,s||{}),p="[object Number]"===Object.prototype.toString.call(u),C=p||!u.tagName?null:u;if(p||C){var x=n.pageYOffset;f.header&&!i&&(i=document.querySelector(f.header));var v,g,b,G=function(t){return t?function(t){return parseInt(n.getComputedStyle(t).height,10)}(t)+t.offsetTop:0}(i),E=p?u:function(t,e,r,o){var a=0;if(t.offsetParent)do{a+=t.offsetTop,t=t.offsetParent}while(t);return a=Math.max(a-e-r,0),o&&(a=Math.min(a,A()-n.innerHeight)),a}(C,G,parseInt("function"==typeof f.offset?f.offset(u,c):f.offset,10),f.clip),L=E-x,V=A(),q=0,Q=function(t,e){var r=e.speedAsDuration?e.speed:Math.abs(t/1e3*e.speed);return e.durationMax&&r>e.durationMax?e.durationMax:e.durationMin&&r<e.durationMin?e.durationMin:parseInt(r,10)}(L,f),U=function(S){v||(v=S),q+=S-v,b=x+L*function(t,e){var r;return"easeInQuad"===t.easing&&(r=e*e),"easeOutQuad"===t.easing&&(r=e*(2-e)),"easeInOutQuad"===t.easing&&(r=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t.easing&&(r=e*e*e),"easeOutCubic"===t.easing&&(r=--e*e*e+1),"easeInOutCubic"===t.easing&&(r=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t.easing&&(r=e*e*e*e),"easeOutQuart"===t.easing&&(r=1- --e*e*e*e),"easeInOutQuart"===t.easing&&(r=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t.easing&&(r=e*e*e*e*e),"easeOutQuint"===t.easing&&(r=1+--e*e*e*e*e),"easeInOutQuint"===t.easing&&(r=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),t.customEasing&&(r=t.customEasing(e)),r||e}(f,g=(g=0===Q?0:q/Q)>1?1:g),n.scrollTo(0,Math.floor(b)),function(S,y){var F=n.pageYOffset;if(S==y||F==y||(x<y&&n.innerHeight+F)>=V)return r.cancelScroll(!0),function(t,e,r){0===t&&document.body.focus(),!r&&(t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),n.scrollTo(0,e))}(u,y,p),m("scrollStop",f,u,c),v=null,h=null,!0}(b,E)||(h=n.requestAnimationFrame(U),v=S)};if(0===n.pageYOffset&&n.scrollTo(0,0),function(t,e,r){e||!history.pushState||!r.updateURL||history.pushState({smoothScroll:JSON.stringify(r),anchor:t.id},document.title,t===document.documentElement?"#top":"#"+t.id)}(u,p,f),"matchMedia"in n&&n.matchMedia("(prefers-reduced-motion)").matches)return void n.scrollTo(0,Math.floor(E));m("scrollStart",f,u,c),r.cancelScroll(!0),n.requestAnimationFrame(U)}};var M=function(u){if(!u.defaultPrevented&&!(0!==u.button||u.metaKey||u.ctrlKey||u.shiftKey)&&"closest"in u.target&&(l=u.target.closest(t))&&"a"===l.tagName.toLowerCase()&&!u.target.closest(o.ignore)&&l.hostname===n.location.hostname&&l.pathname===n.location.pathname&&/#/.test(l.href)){var s,c=O(l.hash);if("#"===c){if(!o.topOnEmptyHash)return;s=document.documentElement}else s=document.querySelector(c);(s=s||"#top"!==c?s:document.documentElement)&&(u.preventDefault(),function(t){if(history.replaceState&&t.updateURL&&!history.state){var e=n.location.hash;e=e||"",history.replaceState({smoothScroll:JSON.stringify(t),anchor:e||n.pageYOffset},document.title,e||n.location.href)}}(o),r.animateScroll(s,l))}},I=function(u){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(o)){var c=history.state.anchor;"string"==typeof c&&c&&!(c=document.querySelector(O(history.state.anchor)))||r.animateScroll(c,null,{updateURL:!1})}};return r.destroy=function(){o&&(document.removeEventListener("click",M,!1),n.removeEventListener("popstate",I,!1),r.cancelScroll(),o=null,l=null,i=null,h=null)},function(){if(!("querySelector"in document&&"addEventListener"in n&&"requestAnimationFrame"in n&&"closest"in n.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";r.destroy(),o=H(d,e||{}),i=o.header?document.querySelector(o.header):null,document.addEventListener("click",M,!1),o.updateURL&&o.popstate&&n.addEventListener("popstate",I,!1)}(),r}});